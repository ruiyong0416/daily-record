### 前言

努力的记录每日一个所学，希望能坚持下去！共勉！

#### 2022.06.30

##### 1. setTimout背后的秘密

> 参考文献：https://zhuanlan.zhihu.com/p/155752686

* setTimeout背后有一个 `4ms` 延迟的秘密。但是并不是所有浏览器厂商都遵循这个 `4ms` 延迟，各自有自己的一套延迟定义。只不过 `4ms` 是 `chrome` 团队经过多次研究觉得最为合适的一个值，后来也被制定为一个标准而已。

  > 1. 如果设置的 `timeout` 小于 0，则设置为 0
  >
  > 2. 如果嵌套的层级超过了 5 层，并且 timeout 小于 4ms，则设置 timeout 为 4ms。

* 但是浏览器不会允许 `0ms` 的存在，如果存在 `0ms`，会导致 `JavaScript` 引擎过度循环，造成阻塞，导致页面很容易出现奔溃，所以 `chrome` 的最低延迟是制定为 `1ms`（不同浏览器可能处理会不同）。所以下列代码在 `chrome` 允许会先输出1，然后是0，因为 `chrome` 的最低延迟就是 `1ms`。

  ```javascript
  setTimeout(() => console.log(1), 1)
  setTimeout(() => console.log(0), 0)
  // 1 0
  ```

##### 2. 浏览器-进程理解

> 参考文献：https://juejin.cn/post/6844904040346681358#heading-20

* 进程（process）是CPU资源分配的最小单位。（一般一个任务就是一个进程，比如打开一个浏览器就是启动一个浏览器进程）

* 线程（thread）是CPU调度的最小单位。（一般线程是建立在进程上的，即一个进程至少会有一个线程）

* 浏览器四大进程

  * 主进程（Browser Process）：负责浏览器界面显示与交互。各个标签的管理，创建和销毁其他进程。网络资源管理、下载等。

  * 第三方插件进程（Plugin Process）：浏览器是可以添加一些插件的，在使用插件时才会创建该进程。

  * GPU进程（GPU Process）：最多只有一个，用于3D绘制等。

  * 渲染进程（Renderer Process）：这也是浏览器内核在处理网页时重要的进程，它是多线程的：

    * GUI渲染线程：负责渲染页面（解析HTML、CSS、构建dom树和RenderObject树、布局、绘制等）。

      > 该线程与JS引擎线程互斥

    * JS引擎线程：处理js脚本语言（如V8引擎）。

      > 该线程与GUI渲染线程互斥

    * 事件触发线程：用于控制事件循环。

    * 定时触发器线程：定时器所在的线程。

    * 异步http请求线程：XMLHttpRequest连接后开启的线程。

* 浏览器需要解析HTML和CSS分别生成dom树和css树，再两则结合生成一个render树，那为什么不直接生成render树呢？

  * 因为浏览器在解析HTML构建dom树时，是不会被css阻塞的，所以可以并行处理，先解析HTML，再一边下载css资源。
  * 生成render树时，是需要等待css资源完成（无论成功或者失败）。所以如果要同时生成render树那将会比较消耗时间。
  * 还有一种可能，假设我render树不需要等css，那当我在构建时，css后面才请求回来，或者在中途请求回来，我又需要重头去查询对应的dom节点标记css信息，那将会是很消耗性能的操作。

#### 2022.07.05

##### 1.git基础操作

> 参考文献：https://backlog.com/git-tutorial/cn/intro/intro1_1.html

* git是一个分布式版本管理系统，是为了更好地管理Linux内核开发而创立的。且广泛应用于多人协同开发项目中。与之对应的版本管理有：svn等。

* git基本操作：推拉克隆

  * 推送（push）：将本地仓库分支推送至远程仓库
  * 拉取（pull）：拉取远程仓库分支并更新至本地
  * 克隆（clone）：克隆远程仓库到本地

* git窗口指令模式下，当中文没有显示而是被转译成 `ASCII` 码时，可以运行此命令。

  ````javascript
  $ git config --global core.quotepath off
  ````

  

